var React = require('react');
var ArcReactor = require('arc-reactor');

var { Editor, MenuToolbar, InlineToolbar } = ArcReactor;

var App = React.createClass({
  render: function() {
    return (
      <Editor content={Store.find()} onChange={Function.prototype}>
        <MenuToolbar.Basic />
        <InlineToolbar.Basic />
      </Editor>
    );
  }
});


// underline plugin
var UnderlineButton = require('UnderlineButton');
var UnderlineKey = require('UnderlineKey');

var class UnderlinePlugin {
  installMenuButton(buttons) {
    buttons.use(UnderlineButton);
  }
  installKey(keys) {
    keys.use(UnderlineKey, { before: "other-key" });
  }
}

// inline code plugin
var CodeButton = require('CodeButton');
var CodeBlock = require('CodeBlock');

var class CodePlugin {
  installInlineButton(buttons) {
    buttons.use(CodeButton);
  }
  installBlock(blocks) {
    blocks.use(CodeBlock);
  }
}


// extended
var { Editor } = ArcReactor;

// installing plugins
Editor.install(require("UnderlinePlugin"))
Editor.install(requrie("InlineCodePlugin"))


var App = React.createClass({
  render: function() {
    return (
      <Editor content={Store.find()} onChange={Function.prototype} />
    );
  }
});


// menu items
menu
  bold
  italic
  h1
  h2
  h3
  center
  quote


// manipulation via command keys
direct
  return
    range
      - splitBlock

    caret
      end
        - appendBlock
      beg
        - prependBlock
      middle
        - splitBlock

  delete
    range
      cross
        - combineBlocks

    caret
      end
        - combineNext
      beg,middle
        - deleteChar

  bspace
    range
      cross
        - combineBlocks

    caret
      beg
        - combinePrev
      middle,end
        - deleteChar

  other
    range
      cross
        - combineBlocks
        - addChar
      inner
        - replaceChars
        - addChar

    caret
      - addChar

  hotkeys
    ctrl-b: bold
    ctrl-i: italic
    ctrl-u: underline
    ctrl-e: center
    ctrl-m: enter
    alt+f10: toolbar

    ctrl-backspace: delete-prev-word
    ctrl-delete: delete-next-word
    cmd-backspace: delete-to-beg-of-block
    cmd-delete: delete-to-end of block
    ctrl-k: delete-to-end-of-block
    ctrl-a: move cursor to beg of block
    ctrl-e: move cursor to end of block
    ctrl-h: delete key

    http://en.wikipedia.org/wiki/Table_of_keyboard_shortcuts

Plugin integration points
  - key commands
    - Editor#handleKeyUp
    - Editor#handleKeyDown
    - KeyCommands

  - menu buttons
    - Editor#render (menu button components)
    - MenuButton#render
    - BlockFormatter INLINE_TAGS
    - MarkupParser
    - SelectedContent

  - bar buttons
    - Editor#render (bar button components)
    - BarButton#render

  - blocks
    - BlockFormatter
    - Block
    - Manipulation/AppendBlock
    - Manipulation/CombineBlockNext
    - Manipulation/CombineBlockPrev
    - Selection#isFigure
    - Selection#isCaption
    - SelectionNode#isFigure
    - SelectionNode#isCaption
